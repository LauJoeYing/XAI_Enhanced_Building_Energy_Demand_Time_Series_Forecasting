
<div>
    <vizzu-player id="ab5403c"   controller></vizzu-player>
    <script type="module">
        import VizzuPlayer from "https://cdn.jsdelivr.net/npm/vizzu-story@0.7/dist/vizzu-story.min.js";

        class IpyvizzuStory {
            static version = "0.10.0";
            static analytics = undefined;

            static changeAnalyticsTo(analytics) {
                if (IpyvizzuStory.analytics !== analytics) {
                    console.log("ipyvizzu-story gather usage stats:", analytics);
                    IpyvizzuStory.analytics = analytics;
                }
                if (analytics) {
                    IpyvizzuStory._addHeadScript();
                } else {
                    IpyvizzuStory._removeScript("ipyvizzu-story-analytics-head");
                }
            }

            static _addHeadScript() {
                const scriptId = "ipyvizzu-story-analytics-head";
                if (!IpyvizzuStory._isScriptAppended(scriptId)) {
                    const script = document.createElement("script");
                    script.defer = true;
                    script.src = "https://plausible.io/js/script.local.js";
                    script.dataset.domain = "usage.ipyvizzu-story.com";
                    script.id = scriptId;
                    document.getElementsByTagName("head")[0].appendChild(script);
                }
            }

            static _isScriptAppended(id) {
                return document.querySelector(`script[id="${id}"]`) !== null;
            }

            static _removeScript(id) {
                const script = document.getElementById(id);
                if (script) script.remove();
            }
        }

        if (IpyvizzuStory.version !== window.IpyvizzuStory?.version) {
            window.IpyvizzuStory = IpyvizzuStory;
            console.log(`ipyvizzu-story ${IpyvizzuStory.version}`);
        }

        window.IpyvizzuStory?.changeAnalyticsTo(true);

        class Plugins {
            static _resolveVizzuVersion(vp) {
                const url = vp.vizzuUrl;
                const versionMatch = url.match(/vizzu@([^\/]+)\//);
                return versionMatch[1];
            }

            static _resolveUrl(plugin, tag) {
                if (!plugin.includes('/')) {
                    const jsdelivr = "https://cdn.jsdelivr.net/npm/@vizzu";
                    return `${jsdelivr}/${plugin}@${tag}/dist/mjs/index.min.js`;
                }
                return plugin;
            }

            static register(vp, chart, plugins) {
                const tag = `vizzu-${Plugins._resolveVizzuVersion(vp)}`;
                const pluginsRegistered = [];
                for (const plugin of plugins) {
                    const pluginUrl = Plugins._resolveUrl(plugin.plugin, tag);
                    const pluginRegistered = import(pluginUrl).then(pluginModule => {
                        const pluginInstance = new pluginModule[plugin.name](plugin.options);
                        chart.feature(pluginInstance, true);
                    }).catch((error) => {
                        console.error('Error importing plugin:', pluginUrl, error)
                    });
                    pluginsRegistered.push(pluginRegistered);
                }
                return Promise.all(pluginsRegistered);
            }
        }

        const vp = document.getElementById("ab5403c");
        vp.initializing.then(chart => {
            const lib = vp.Vizzu;

            // story.set_size()
            vp.style.cssText = 'width: 100%;height: 600px;'

            // story.add_plugin()
            const plugins = [];
            
            Plugins.register(vp, chart, plugins).then(() => {
                // story.set_feature()
                chart.feature('tooltip', true);
                // story.add_event()
                

                const vizzuPlayerData = {"data": {"series": [{"name": "Unnamed: 0", "values": [12388344.0, 12378078.0, 12377890.0, 12418376.0, 12425924.0, 12444895.0, 12446878.0, 12460840.0, 12492373.0, 12498122.0, 12484871.0, 12492598.0, 12499080.0, 12491862.0, 12474067.0, 12496282.0, 12494115.0, 12494901.0, 12496313.0, 12478427.0, 12496682.0, 12494018.0, 12494012.0, 12514497.0, 12516755.0, 12554395.0, 12596697.0, 12576874.0, 12575688.0, 12572040.0, 12635510.0, 12608314.0, 12617343.0, 12635499.0, 12616721.0, 12623018.0, 12636293.0, 12618225.0, 12655604.0, 12663356.0, 12651281.0, 12697068.0, 12686405.0, 12671940.0, 12672593.0, 12702497.0, 12702496.0, 12690441.0, 12702588.0, 12672445.0, 12672598.0, 12702591.0, 12737572.0, 12732810.0, 12719177.0, 12709222.0, 12706219.0, 12723594.0, 12731685.0, 12713577.0, 12708813.0, 12717239.0, 12357362.0, 12344322.0, 12331144.0, 12336412.0, 12329212.0, 12349017.0, 12331142.0, 12354929.0], "type": "measure"}, {"name": "building_id", "values": ["1005", "1002", "1002", "1006", "1007", "1003", "1000", "1010", "1010", "1010", "1007", "1007", "1003", "1007", "1010", "1010", "1008", "1010", "1000", "1002", "1000", "1003", "1000", "1013", "1003", "1005", "1013", "1013", "1007", "1000", "1010", "1000", "1000", "1003", "1013", "1007", "1000", "1004", "1003", "1007", "1003", "1007", "1007", "1010", "1007", "1005", "1004", "1005", "1003", "1002", "1010", "1006", "1006", "1002", "1003", "1002", "1003", "1005", "1008", "1002", "1005", "1003", "1006", "1004", "1007", "1005", "1007", "1006", "1005", "1013"], "type": "dimension"}, {"name": "meter", "values": ["0", "0", "0", "0", "0", "1", "1", "0", "0", "0", "0", "0", "1", "0", "0", "0", "0", "0", "0", "0", "1", "0", "0", "0", "1", "0", "1", "1", "0", "1", "0", "1", "0", "0", "1", "0", "1", "0", "1", "0", "1", "0", "0", "0", "0", "0", "0", "0", "1", "0", "0", "0", "0", "0", "1", "0", "1", "0", "0", "0", "0", "1", "0", "0", "0", "0", "0", "0", "0", "0"], "type": "dimension"}, {"name": "timestamp", "values": ["2016-02-22 08:00:00", "2016-02-13 12:00:00", "2016-02-13 08:00:00", "2016-03-18 19:00:00", "2016-03-25 06:00:00", "2016-04-10 21:00:00", "2016-04-12 15:00:00", "2016-04-24 23:00:00", "2016-05-23 09:00:00", "2016-05-28 14:00:00", "2016-05-16 14:00:00", "2016-05-23 14:00:00", "2016-05-29 11:00:00", "2016-05-22 22:00:00", "2016-05-06 19:00:00", "2016-05-26 22:00:00", "2016-05-24 23:00:00", "2016-05-25 16:00:00", "2016-05-26 23:00:00", "2016-05-10 18:00:00", "2016-05-27 07:00:00", "2016-05-24 21:00:00", "2016-05-24 21:00:00", "2016-06-12 16:00:00", "2016-06-14 19:00:00", "2016-07-19 02:00:00", "2016-08-25 18:00:00", "2016-08-08 02:00:00", "2016-08-07 01:00:00", "2016-08-03 19:00:00", "2016-09-29 23:00:00", "2016-09-05 04:00:00", "2016-09-13 09:00:00", "2016-09-29 23:00:00", "2016-09-12 19:00:00", "2016-09-18 12:00:00", "2016-09-30 16:00:00", "2016-09-14 04:00:00", "2016-10-17 21:00:00", "2016-10-24 18:00:00", "2016-10-14 01:00:00", "2016-11-23 16:00:00", "2016-11-14 05:00:00", "2016-11-01 09:00:00", "2016-11-01 23:00:00", "2016-11-28 12:00:00", "2016-11-28 12:00:00", "2016-11-17 19:00:00", "2016-11-28 14:00:00", "2016-11-01 20:00:00", "2016-11-01 23:00:00", "2016-11-28 14:00:00", "2016-12-31 02:00:00", "2016-12-26 17:00:00", "2016-12-13 16:00:00", "2016-12-04 14:00:00", "2016-12-01 21:00:00", "2016-12-17 18:00:00", "2016-12-25 15:00:00", "2016-12-08 12:00:00", "2016-12-04 05:00:00", "2016-12-11 21:00:00", "2016-01-26 14:00:00", "2016-01-15 14:00:00", "2016-01-04 08:00:00", "2016-01-08 21:00:00", "2016-01-02 17:00:00", "2016-01-19 14:00:00", "2016-01-04 08:00:00", "2016-01-24 13:00:00"], "type": "dimension"}, {"name": "meter_reading", "values": [33.87, 80.0, 80.0, 51.25, 49.0, 29.2602, 120.117, 2.0, 4.0, 5.0001, 74.5005, 70.0001, 87.9315, 29.0, 6.0, 4.0, 52.25, 6.0, 44.0, 80.0, 5.8521, 62.37, 54.75, 30.7488, 150.0, 20.38, 0.0009, 0.0, 31.25, 90.8552, 4.0, 11.7413, 80.0, 55.87, 0.0006, 26.0, 117.224, 80.0, 87.9307, 29.0, 29.4103, 43.7501, 42.25, 6.0, 27.5, 46.0001, 80.0, 15.37, 29.2617, 80.0, 4.0, 70.1202, 66.38, 80.0, 150.0, 80.0, 29.2603, 18.0, 51.25, 80.0, 17.25, 87.9296, 58.3699, 80.0, 54.5, 20.37, 26.0, 60.2499, 34.5, 32.13], "type": "measure"}, {"name": "site_id", "values": ["10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10", "10"], "type": "dimension"}, {"name": "primary_use", "values": ["6", "1", "1", "6", "6", "0", "0", "6", "6", "6", "6", "6", "0", "6", "6", "6", "0", "6", "0", "1", "0", "0", "0", "0", "0", "6", "0", "0", "6", "0", "6", "0", "0", "0", "0", "6", "0", "0", "0", "6", "0", "6", "6", "6", "6", "6", "0", "6", "0", "1", "6", "6", "6", "1", "0", "1", "0", "6", "0", "1", "6", "0", "6", "0", "6", "6", "6", "6", "6", "0"], "type": "dimension"}, {"name": "square_feet", "values": [26325.0, 161969.0, 161969.0, 26948.0, 41933.0, 94751.0, 121146.0, 11419.0, 11419.0, 11419.0, 41933.0, 41933.0, 94751.0, 41933.0, 11419.0, 11419.0, 74420.0, 11419.0, 121146.0, 161969.0, 121146.0, 94751.0, 121146.0, 67377.0, 94751.0, 26325.0, 67377.0, 67377.0, 41933.0, 121146.0, 11419.0, 121146.0, 121146.0, 94751.0, 67377.0, 41933.0, 121146.0, 74886.0, 94751.0, 41933.0, 94751.0, 41933.0, 41933.0, 11419.0, 41933.0, 26325.0, 74886.0, 26325.0, 94751.0, 161969.0, 11419.0, 26948.0, 26948.0, 161969.0, 94751.0, 161969.0, 94751.0, 26325.0, 74420.0, 161969.0, 26325.0, 94751.0, 26948.0, 74886.0, 41933.0, 26325.0, 41933.0, 26948.0, 26325.0, 67377.0], "type": "measure"}, {"name": "air_temperature", "values": [1.1, -2.8, -3.3, 6.1, 7.8, 17.2, 12.2, 15.0, 7.2, 12.2, 9.4, 9.4, 11.7, 13.3, 22.8, 20.0, 15.0, 12.8, 20.6, 10.0, 11.1, 15.0, 15.0, 15.0, 26.7, 32.2, 21.1, 28.3, 32.2, 28.3, 21.1, 15.6, 11.7, 21.1, 23.9, 12.2, 18.9, 13.9, 13.3, 16.7, 17.2, 3.3, 8.3, 7.2, 10.0, -0.6, -0.6, 3.3, -0.6, 10.6, 10.0, -0.6, -7.2, -9.4, -3.3, -4.4, 1.1, -6.1, -5.0, -9.4, -2.2, 3.9, -8.3, -3.3, -7.2, 1.1, -10.0, -2.8, -7.2, -0.6], "type": "measure"}, {"name": "cloud_coverage", "values": [4.0, 9.0, 9.0, 4.0, 4.0, 4.0, 4.0, 2.0, 2.0, 2.0, 4.0, 4.0, 2.0, 2.0, 4.0, 0.0, 2.0, 4.0, 4.0, 4.0, 4.0, 2.0, 2.0, 2.0, 2.0, 0.0, 4.0, 4.0, 2.0, 0.0, 4.0, 2.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 4.0, 2.0, 2.0, 4.0, 2.0, 9.0, 9.0, 2.0, 9.0, 2.0, 2.0, 9.0, 9.0, 4.0, 4.0, 4.0, 2.0, 2.0, 9.0, 2.0, 2.0, 2.0, 4.0, 9.0, 4.0, 2.0, 4.0, 9.0, 4.0, 9.0], "type": "measure"}, {"name": "dew_temperature", "values": [-2.8, -3.3, -3.3, -5.6, -2.8, 3.9, 3.3, 1.1, 4.4, 7.2, 6.7, 2.2, 2.8, 2.8, 3.3, 2.8, 3.9, 5.0, 3.3, -1.1, 5.0, 3.3, 3.3, 12.2, 5.6, 7.2, -0.6, 7.8, 5.6, 7.8, 10.0, 7.8, 9.4, 10.0, 1.1, 1.1, 9.4, 11.1, -0.6, 7.2, 5.0, -2.2, 0.6, -1.1, 3.3, -1.1, -1.1, -5.0, -1.1, 4.4, 3.3, -1.1, -7.8, -11.7, -8.9, -8.3, -3.3, -13.3, -5.6, -14.4, -6.7, -3.3, -11.7, -3.9, -10.6, -1.7, -16.1, -2.8, -10.6, -0.6], "type": "measure"}, {"name": "precip_depth_1_hr", "values": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -1.0, 0.0, -1.0, -1.0, 0.0, -1.0, 0.0, 0.0, 3.0, 3.0, -1.0, 0.0, -1.0, 0.0, -1.0, 0.0, -1.0, 3.0, -1.0, 3.0, 3.0, 0.0, 0.0, 0.0, 5.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 13.0, 13.0, 0.0, 18.0, 0.0, 0.0, 18.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 10.0, 0.0, 0.0, 0.0, 0.0, 8.0, 0.0, 0.0, 0.0, 0.0, 0.0, 3.0], "type": "measure"}, {"name": "sea_level_pressure", "values": [1020.8, 1027.4, 1028.5, 1022.2, 1012.2, 1006.2, 1016.3, 1008.0, 1011.7, 1013.2, 1010.1, 1010.8, 1014.2, 1013.1, 1002.6, 1010.4, 1008.6, 1014.2, 1010.0, 1018.6, 1010.8, 1007.2, 1007.2, 1018.8, 1005.3, 1008.3, 1014.9, 1003.5, 1004.8, 1012.8, 1017.8, 1005.7, 1009.2, 1017.8, 1005.3, 1015.8, 1019.3, 1010.4, 1013.3, 1017.1, 1013.3, 1018.2, 1024.2, 1009.2, 1015.8, 1003.4, 1003.4, 1016.2, 1002.2, 1014.3, 1015.8, 1002.2, 1018.0, 1032.5, 1022.3, 1023.7, 1018.5, 1021.3, 1006.5, 1028.8, 1026.4, 1018.1, 1034.5, 1011.6, 1021.8, 1013.1, 1032.6, 1024.4, 1021.8, 1012.5], "type": "measure"}, {"name": "wind_direction", "values": [50.0, 330.0, 300.0, 300.0, 340.0, 200.0, 160.0, 310.0, 340.0, 340.0, 210.0, 100.0, 180.0, 120.0, 130.0, 330.0, 280.0, 170.0, 320.0, 270.0, 170.0, 50.0, 50.0, 340.0, 180.0, 170.0, 60.0, 160.0, 160.0, 270.0, 120.0, 10.0, 320.0, 120.0, 30.0, 170.0, 140.0, 80.0, 260.0, 170.0, 350.0, 150.0, 170.0, 160.0, 330.0, 200.0, 200.0, 330.0, 160.0, 320.0, 330.0, 160.0, 220.0, 170.0, 170.0, 160.0, 290.0, 310.0, 320.0, 190.0, 170.0, 200.0, 170.0, 160.0, 290.0, 310.0, 290.0, 240.0, 290.0, 330.0], "type": "measure"}, {"name": "wind_speed", "values": [2.1, 3.1, 2.1, 2.6, 7.2, 3.1, 3.1, 5.1, 3.6, 2.1, 1.5, 1.5, 3.1, 4.6, 5.1, 6.2, 3.6, 3.1, 5.7, 3.6, 4.1, 5.1, 5.1, 1.5, 8.8, 6.7, 6.7, 1.5, 4.1, 2.6, 4.1, 2.6, 4.1, 4.1, 2.1, 4.6, 3.6, 4.1, 3.6, 8.2, 3.6, 3.6, 3.6, 5.1, 2.6, 2.6, 2.6, 7.7, 3.6, 3.6, 2.6, 3.6, 2.1, 3.6, 3.1, 4.6, 2.1, 6.2, 4.1, 1.5, 3.1, 2.6, 3.6, 2.1, 2.1, 3.6, 2.6, 2.1, 2.1, 1.5], "type": "measure"}, {"name": "day", "values": [22.0, 13.0, 13.0, 18.0, 25.0, 10.0, 12.0, 24.0, 23.0, 28.0, 16.0, 23.0, 29.0, 22.0, 6.0, 26.0, 24.0, 25.0, 26.0, 10.0, 27.0, 24.0, 24.0, 12.0, 14.0, 19.0, 25.0, 8.0, 7.0, 3.0, 29.0, 5.0, 13.0, 29.0, 12.0, 18.0, 30.0, 14.0, 17.0, 24.0, 14.0, 23.0, 14.0, 1.0, 1.0, 28.0, 28.0, 17.0, 28.0, 1.0, 1.0, 28.0, 31.0, 26.0, 13.0, 4.0, 1.0, 17.0, 25.0, 8.0, 4.0, 11.0, 26.0, 15.0, 4.0, 8.0, 2.0, 19.0, 4.0, 24.0], "type": "measure"}, {"name": "month", "values": ["2", "2", "2", "3", "3", "4", "4", "4", "5", "5", "5", "5", "5", "5", "5", "5", "5", "5", "5", "5", "5", "5", "5", "6", "6", "7", "8", "8", "8", "8", "9", "9", "9", "9", "9", "9", "9", "9", "10", "10", "10", "11", "11", "11", "11", "11", "11", "11", "11", "11", "11", "11", "12", "12", "12", "12", "12", "12", "12", "12", "12", "12", "1", "1", "1", "1", "1", "1", "1", "1"], "type": "dimension"}, {"name": "hour", "values": [8.0, 12.0, 8.0, 19.0, 6.0, 21.0, 15.0, 23.0, 9.0, 14.0, 14.0, 14.0, 11.0, 22.0, 19.0, 22.0, 23.0, 16.0, 23.0, 18.0, 7.0, 21.0, 21.0, 16.0, 19.0, 2.0, 18.0, 2.0, 1.0, 19.0, 23.0, 4.0, 9.0, 23.0, 19.0, 12.0, 16.0, 4.0, 21.0, 18.0, 1.0, 16.0, 5.0, 9.0, 23.0, 12.0, 12.0, 19.0, 14.0, 20.0, 23.0, 14.0, 2.0, 17.0, 16.0, 14.0, 21.0, 18.0, 15.0, 12.0, 5.0, 21.0, 14.0, 14.0, 8.0, 21.0, 17.0, 14.0, 8.0, 13.0], "type": "measure"}, {"name": "z_score", "values": [-0.34742608027399247, -0.23383662737984326, -0.23383662737984326, -0.3046299673041179, -0.31017031564601766, -0.3587771459568767, -0.13505344763229105, -0.4259020365657014, -0.4209772824840128, -0.4185146592054643, -0.24737846991596668, -0.25846015155058255, -0.21430628388038642, -0.35941785646290436, -0.4160525284023241, -0.4209772824840128, -0.30216759026327356, -0.4160525284023241, -0.3224822008502393, -0.23383662737984326, -0.41641671396666496, -0.27724833460992887, -0.2960116476611627, -0.3551116514938758, -0.06147023452073979, -0.38064354655498256, -0.43082457450805334, -0.4308267906473901, -0.3538775081210046, -0.20710703212606985, -0.4209772824840128, -0.4019152830977245, -0.23383662737984326, -0.2932537853754171, -0.43082531322116563, -0.3668049875854374, -0.14217710441145373, -0.23383662737984326, -0.2143082537820191, -0.35941785646290436, -0.3584075431630459, -0.32309754887274633, -0.32679136067171694, -0.4160525284023241, -0.36311142202417085, -0.3175572005308466, -0.23383662737984326, -0.3929800555296126, -0.3587734523913154, -0.23383662737984326, -0.4209772824840128, -0.25816442006797713, -0.26737420267614315, -0.23383662737984326, -0.06147023452073979, -0.23383662737984326, -0.3587768997191726, -0.3865040039121921, -0.3046299673041179, -0.23383662737984326, -0.3883507866928253, -0.21431096239676403, -0.2870980890110103, -0.23383662737984326, -0.2966272419213738, -0.38066817032539096, -0.3668049875854374, -0.282468820174223, -0.3458747827382605, -0.3517106163250616], "type": "measure"}]}, "slides": [[{"config": {"x": ["month"], "y": ["mean(meter_reading)"], "color": "month", "label": "mean(meter_reading)", "title": "Overview: Mean Meter Readings by Month"}, "style": {"paddingLeft": "3em", "plot": {"yAxis": {"label": {"numberScale": "shortScaleSymbolUS"}}, "xAxis": {"label": {"numberScale": "shortScaleSymbolUS"}}, "marker": {"label": {"numberFormat": "prefixed", "maxFractionDigits": "1", "numberScale": "shortScaleSymbolUS"}, "rectangleSpacing": null, "circleMinRadius": 0.005, "borderOpacity": 1, "colorPalette": "#FFB3BA #FFDFBA #FFFFBA #BAFFC9 #BAE1FF #CBAACB #FFDAC1 #FF9AA2 #B5EAD7 #E2F0CB #FFB7B2 #FFDAC1"}}, "fontFamily": "Georgia"}}], [{"config": {"coordSystem": "cartesian", "geometry": "circle", "title": "Overview: High Consumption Meter Reading by Month with Z-Score > 2", "x": "month", "y": {"set": "mean(meter_reading)", "range": {"min": "auto", "max": "110%"}}, "color": "month", "lightness": null, "size": null, "noop": null, "split": false, "align": "none", "orientation": "horizontal", "label": null, "sort": "none"}, "style": {"plot": {"yAxis": {"label": {"numberScale": "shortScaleSymbolUS"}}, "xAxis": {"label": {"numberScale": "shortScaleSymbolUS"}}, "marker": {"label": {"numberFormat": "prefixed", "maxFractionDigits": "1", "numberScale": "shortScaleSymbolUS"}, "rectangleSpacing": 0, "circleMinRadius": 0.02, "borderOpacity": 1, "colorPalette": "#FFB3BA #FFDFBA #FFFFBA #BAFFC9 #BAE1FF #CBAACB #FFDAC1 #FF9AA2 #B5EAD7 #E2F0CB #FFB7B2 #FFDAC1"}}, "fontFamily": "Georgia"}, "filter": record => { return (record['z_score'] > 2) }}]]};
                vp.slides = vizzuPlayerData;
            });
        });
    </script>
</div>
